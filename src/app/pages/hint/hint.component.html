<div class="hint-container">
  <mat-card class="hint-card">
    <mat-card-header>
      @if(name){
      <mat-card-title>Hi {{ name }}!</mat-card-title>
      } @else {
      <mat-card-title>Hi!</mat-card-title>
      }
      <mat-card-subtitle>
        Voordat {{ targetName }} zijn hint mag zien moet hij eerst de volgende
        opdracht uitvoeren:
      </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <span>{{ assignment }}</span>

      @if (rewardVisible) {
      <mat-divider></mat-divider>
      <div>
        <p>
          De positie van jouw letter: <em>{{ letterIndex + 1 }}</em>
        </p>
        <p>
          Jouw gecodeerde letter: <em>{{ encryptedLetter }}</em>
        </p>
        <p>
          <em>Hint: {{ decryptionHint }}</em>
        </p>
      </div>
      }

      <mat-card-actions>
        @if (!rewardVisible) {
        <button mat-raised-button color="primary" (click)="showReward()">
          <mat-icon>visibility</mat-icon>
          Toon hint
        </button>
        } @else {
        <button mat-raised-button color="primary" (click)="hideReward()">
          <mat-icon>visibility_off</mat-icon>
          Verberg hint
        </button>
        }
      </mat-card-actions>
    </mat-card-content>
  </mat-card>

  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        <mat-icon>help_outline</mat-icon> Uitleg
      </mat-panel-title>
    </mat-expansion-panel-header>

    Hi {{ name }}, Je vraagt je waarschijnlijk af: "Waarom krijg ik deze link?"
    Nou, je staat op het punt om {{ targetName }} een geweldig cadeau te geven.
    Wij, {{ creators }}, geven dit cadeau niet zonder slag of stoot weg. Om zijn
    cadeau te bemachtigen, moet hij eerst een aantal opdrachten voltooien. We
    willen jou vragen om ons hierbij te helpen. We hebben namelijk een code die
    {{ targetName }} moet kraken, maar deze code is versleuteld.
    {{ targetName }} komt vanavond bij jou langs om zijn opdracht uit te voeren.
    Als {{ targetName }} deze opdracht correct heeft voltooid, mag je op de knop
    <em>"Toon hint"</em> drukken. Je ziet dan jouw gecodeerde karakter en de
    bijbehorende positie. Daarnaast ontvang je een hint of een volgende opdracht
    waarmee {{ targetName }} zijn letter kan ontcijferen.
  </mat-expansion-panel>

  <app-rules [name]="targetName"></app-rules>
</div>
