<div class="verify">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Hi {{ name }}!</mat-card-title>
      <mat-card-subtitle
        >Vul hier je code in:</mat-card-subtitle
      ></mat-card-header
    >
    <mat-card-content>
      <lib-pin-box
        [length]="15"
        [amountOfGroups]="3"
        [type]="'text'"
        [formControl]="invitationCodeCtrl"
        [errorsMessage]="errors"
        (valueChanged)="onValueChanged($event)"
        class="code-input"
      >
      </lib-pin-box>
    </mat-card-content>
    <mat-card-actions>
      <span class="status-icon">
        Code correct: @if(isCodeVerified && isCodeCorrect){
        <mat-icon class="status-icon-success" matTooltip="De code is correct!"
          >checkmark</mat-icon
        >
        } @else if (isCodeVerified && !isCodeCorrect) {
        <mat-icon
          class="status-icon-failed"
          matTooltip="De code is niet correct"
          >close</mat-icon
        >
        } @else {
        <mat-icon
          class="status-icon-unknown"
          matTooltip="De code is nog niet compleet"
          >question_mark</mat-icon
        >
        }
      </span>

      <button
        mat-icon-button
        (click)="copyCode()"
        [hidden]="!isCorrectLength || !isCodeVerified || !isCodeCorrect"
      >
        <mat-icon class="status-icon" matTooltip="Kopieer de code"
          >content_copy</mat-icon
        >
      </button>
    </mat-card-actions>
  </mat-card>
</div>

<mat-expansion-panel>
  <mat-expansion-panel-header>
    <mat-panel-title>
      <mat-icon>help_outline</mat-icon> Uitleg
    </mat-panel-title>
  </mat-expansion-panel-header>

  Hi {{ name }}, Je staat op het punt om een episch cadeau te krijgen. Voordat
  je het cadeau ontvangt, hebben we iedereen op jouw feest een link gestuurd met
  een opdracht. Voer je de opdracht correct uit, dan krijg je een gecodeerde
  letter, de positie ervan en een hint of een volgende opdracht om het karakter
  te ontcijferen. @if(requestLastHintAtCreator){ De laatste hint krijg je van
  {{ creators }} wanneer je alle andere hints hebt verkregen. }
</mat-expansion-panel>

<mat-expansion-panel>
  <mat-expansion-panel-header>
    <mat-panel-title>
      <mat-icon>lock_open</mat-icon> Hoe kan ik de code ontcijferen?
    </mat-panel-title>
  </mat-expansion-panel-header>
  De code is versleuteld door elke letter of cijfer een aantal posities naar
  links of rechts te verschuiven in de vaste volgorde van karakters: eerst de
  letters <em>"A-Z"</em> en daarna de cijfers <em>"0-9"</em>. Als je bij het
  decoderen het einde van de letters bereikt, tel je door bij de cijfers. Zodra
  je ook het laatste cijfer bereikt, begin je weer bij de letters vanaf "A". Dit
  zorgt ervoor dat je altijd binnen dezelfde reeks blijft, zonder onderbreking.<br><br>

  <h3>Voorbeeld:</h3><br>
  Je krijgt van een medespeler het karakter <em>"E"</em>, met als hint "Dit karakter is al met 2 plekken naar rechts geschoven". Dit betekent dat het juiste karakter de "C" is. <br><br>



</mat-expansion-panel>

<app-rules [name]="name"></app-rules>
